(function(d,p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(d=typeof globalThis<"u"?globalThis:d||self,p(d.init={}))})(this,function(d){"use strict";function p(e){return Array.isArray(e)&&Array.isArray(e==null?void 0:e[0])}function b(e){return typeof e=="object"&&!Array.isArray(e)}function T(e){return Array.isArray(e)&&e.every(b)}const h={isTwoDimAr:p,isObject:b,isObjectArray:T};function g(e,n={}){let{addIndices:i}=n;i===void 0&&(i=!0);const l=!h.isTwoDimAr(e);l&&(e=E(e,"table(TwoDimArray)"));const r=[...e[0]];if(!l&&i){i==="row-only"&&e.shift(),e.forEach((s,f)=>s.unshift(f+""));let t;i===!0&&(t=new Array(e[0].length).fill().map((s,f)=>f===0?"(index)":f-1+"")),i==="row-only"&&(t=["(index)",...r]),e.unshift(t)}e=e.map(t=>t.map(m));const c=e.reduce((t,s)=>{const f=s.map(u=>(u+"").length);return t.length?t.map((u,a)=>u<f[a]?f[a]:u):f},[]);return e.reduce((t,s,f)=>{const u=s.map((a,y)=>j(a,c[y]));return t.length&&(t+=`
`),f===1&&(t+=`|${u.map(a=>a.replace(/\|/g,"-")).join("|").replace(/[^|]/g,"-")}|
`.replace(/\|-/g,"| ").replace(/-\|/g," |")),t+`|${u.join("|")}|`},"")}function j(e,n){e+="";const i=1,l=n-e.length-i+2;return`${" ".repeat(i)}${e}${" ".repeat(l)}`}function m(e){if(typeof e!="object")return e;let n=JSON.stringify(e);return n.length>25&&(n=n.substring(0,21)+"..."),n}function E(e,n){return e=e+"",e.length>25&&(e=e.slice(0,21)+"..."),[["Error","Source","Input"],["Invalid argument",n,e]]}function I(e){if(!h.isObject(e))throw"This is not an object";const n=["(index)","Value"];let i=A(e,n).map(r=>r.map(c=>c&&c!==void 0?c:"")).map(r=>{const c=n.length-r.length;for(let o=0;o<c;o++)r.push("");return r});const l=[n,...i];return g(l,{addIndices:!1})}function M(e){return Array.isArray?e.reduce((n,i,l)=>(n[l]=i,n),{}):e}function O(e,n,i,l){return e.forEach(r=>{n.indexOf(r[0])===-1&&n.push(r[0])}),e.reduce((r,[c,o])=>{if(h.isObject(o))return O(Object.entries(o),n,i,!1);const t=n.findIndex(s=>s===c);return r[t]=o,[...r].map(s=>s!==void 0?s:l?"":"{...}")},[i,""])}function A(e,n){return Object.entries(e).map(([r,c])=>{let o=!1;return Array.isArray(c)&&(c=M(c),o=!0),h.isObject(c)?O(Object.entries(c),n,r,o):[r,c]})}function L(e){if(!h.isObjectArray(e))throw"This is not an object array";const n={};let i=-1;const l=[];let r=[];for(const o of e){const t=Object.entries(o),s=new Array(t.length).fill("");t.forEach(([f,u])=>{f in n||(n[f]=++i,l.push(f)),s[n[f]]=u}),r.push(s)}r.forEach(o=>{for(let t=0;t<o.length;t++)t in o||(o[t]="")}),r.forEach(o=>{if(o.length===l.length)return;const t=l.length-o.length;for(let s=0;s<t;s++)o.push("")});const c=[l,...r];return g(c,{addIndices:"row-only"})}const x=e=>e;function P(){globalThis.require=globalThis.require||x}P();const R=function(){const e=new WeakMap,n=["table"],i=["log","warn","error"],l=new WeakMap;class r{constructor(){return r.instance||(e.set(this,!1),l.set(this,[]),i.forEach(t=>this[t]=console[t]),r.instance=this),r.instance}polyfill(){return this.isPolyfilled?this:(n.forEach(t=>{t in Object.getPrototypeOf(console)||(Object.getPrototypeOf(console)[t]=this[t].bind(this))}),e.set(this,!0),this)}get isPolyfilled(){return e.get(this)}table(t){const s={isTwoDimAr:g,isObject:I,isObjectArray:L},f=Object.keys(s).reduce((a,y)=>!a&&h[y](t)?s[y]:a,null);if(f===null)throw new Error("Cannot convert input to table");const u=c(f(t),this);return console.log(u),u}tree(t,s){console.log('⏳ Method "tree" not implemented yet')}assert(){console.log('⏳ Method "assert" not implemented yet')}group(){console.log('⏳ Method "group" not implemented yet')}dir(){console.log('⏳ Method "dir" not implemented yet')}count(){console.log('⏳ Method "count" not implemented yet')}countReset(){console.log('⏳ Method "countReset" not implemented yet')}help(){console.log('⏳ Method "help" not implemented yet')}}r.instance=null;function c(o,t){return l.get(t).push(o),o}return r}();d.ConsolAS=R,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
